{
  "manifest_version": 3,
  "name": "WhatsApp Assistant Pro+",
  "version": "3.1.0",
  "description": "AI + Translate WhatsApp messages | WhatsApp消息翻译助手 | 作者:Achord | Email:achordchan@gmail.com",
  "permissions": [
    "storage",
    "activeTab"
  ],
  "host_permissions": [
    "*://*.whatsapp.com/*",
    "*://wttr.in/*",
    "*://*.googleapis.com/*",
    "https://*/*"
  ],
  "web_accessible_resources": [{
    "resources": ["add.html", "PrivacyPolicy.html", "LICENSE"],
    "matches": ["*://*.whatsapp.com/*"]
  }],
  "action": {
    "default_popup": "popup.html",
    "default_icon": {
      "128": "images/icon.png"
    }
  },
  "content_scripts": [
    {
      "matches": ["*://*.whatsapp.com/*"],
      "js": [
        "api-services.js",
        "update-modal.js",
        "onboarding-personalize.js",
        "mvp/core/namespace.js",
        "mvp/services/storage-service.js",
        "mvp/services/settings-sync-service.js",
        "mvp/services/settings-state-orchestrator.js",
        "mvp/services/whatsapp-dom-service.js",
        "mvp/services/content-state-service.js",
        "mvp/services/content-actions-bridge-service.js",
        "mvp/services/runtime-message-router.js",
        "mvp/services/message-text-service.js",
        "mvp/services/toast-service.js",
        "mvp/services/content-toast-bridge-service.js",
        "mvp/services/content-settings-bridge-service.js",
        "mvp/services/content-fallback-notice-service.js",
        "mvp/services/content-extension-invalidated-bridge-service.js",
        "mvp/services/translation-render-service.js",
        "mvp/services/translation-orchestrator-service.js",
        "mvp/services/input-translate-translation-service.js",
        "mvp/services/input-translate-language-service.js",
        "mvp/services/input-quick-send-service.js",
        "mvp/services/input-translate-ui-service.js",
        "mvp/services/ai-settings-service.js",
        "mvp/services/privacy-records-service.js",
        "mvp/services/weather-cache-service.js",
        "mvp/services/weather-settings-service.js",
        "mvp/services/weather-wttr-service.js",
        "mvp/services/weather-ui-service.js",
        "mvp/services/weather-country-code-map.js",
        "mvp/services/weather-country-storage-service.js",
        "mvp/services/weather-country-detect-service.js",
        "mvp/services/weather-phone-extract-service.js",
        "mvp/services/weather-chat-window-observer-service.js",
        "mvp/services/weather-injection-indicator-service.js",
        "mvp/views/analysis-view.js",
        "mvp/views/translation-view.js",
        "mvp/views/quick-chat-view.js",
        "mvp/views/toolbar-view.js",
        "mvp/views/input-translate-modal-view.js",
        "mvp/views/input-translate-button-view.js",
        "mvp/views/weather-info-view.js",
        "mvp/views/settings-view.js",
        "mvp/presenters/analysis-presenter.js",
        "mvp/presenters/translation-presenter.js",
        "mvp/presenters/quick-chat-presenter.js",
        "mvp/presenters/toolbar-presenter.js",
        "mvp/presenters/settings-presenter.js",
        "mvp/presenters/auto-translate-presenter.js",
        "mvp/presenters/batch-translate-presenter.js",
        "mvp/presenters/message-processing-presenter.js",
        "mvp/presenters/translate-message-presenter.js",
        "mvp/presenters/message-observer-presenter.js",
        "mvp/presenters/input-observer-presenter.js",
        "mvp/presenters/input-translate-presenter.js",
        "mvp/presenters/weather-integration-presenter.js",
        "mvp/presenters/weather-injection-indicator-bootstrap-presenter.js",
        "mvp/presenters/weather-chat-flow-presenter.js",
        "mvp/presenters/weather-phone-processing-presenter.js",
        "mvp/presenters/weather-display-presenter.js",
        "mvp/presenters/content-orchestrator-presenter.js",
        "mvp/presenters/auto-init-presenter.js",
        "mvp/legacy/legacy-settings-modal.js",
        "mvp/legacy/legacy-settings-modal-orchestrator.js",
        "mvp/legacy/legacy-settings-styles-and-export.js",
        "mvp/legacy/legacy-settings-sync-fallback.js",
        "mvp/legacy/legacy-dom-utils.js",
        "mvp/legacy/legacy-toast.js",
        "mvp/legacy/legacy-close-settings-modal.js",
        "mvp/legacy/legacy-extension-invalidated-error.js",
        "mvp/legacy/legacy-message-text-fallback.js",
        "mvp/legacy/legacy-translate-text.js",
        "mvp/legacy/legacy-typewriter.js",
        "mvp/legacy/legacy-display-translation-result.js",
        "mvp/legacy/legacy-add-translate-button.js",
        "mvp/legacy/legacy-translate-message.js",
        "mvp/legacy/legacy-translate-confirm-dialog.js",
        "mvp/legacy/legacy-inject-styles.js",
        "mvp/legacy/legacy-observe-messages.js",
        "mvp/legacy/legacy-batch-translate.js",
        "mvp/legacy/legacy-analysis-panel-fallback.js",
        "mvp/legacy/legacy-analysis-render-fallback.js",
        "mvp/legacy/legacy-analysis-render-orchestrator.js",
        "mvp/legacy/legacy-analyze-conversation.js",
        "mvp/legacy/legacy-process-message.js",
        "mvp/legacy/legacy-observe-input-area.js",
        "mvp/legacy/legacy-add-analysis-button.js",
        "mvp/legacy/legacy-toolbar-orchestrator.js",
        "mvp/legacy/legacy-observer-orchestrator.js",
        "mvp/legacy/legacy-feature-orchestrator.js",
        "mvp/legacy/legacy-weather-integration.js",
        "mvp/legacy/legacy-auto-translate-queue.js",
        "mvp/legacy/legacy-input-translate-toast.js",
        "mvp/legacy/legacy-input-translate-styles.js",
        "mvp/legacy/legacy-input-translate-modal.js",
        "mvp/legacy/legacy-quick-chat.js",
        "mvp/legacy/legacy-initialize.js",
        "mvp/legacy/legacy-weather-info.js",
        "weather-info.js",
        "input-translate.js",
        "content.js",
        "quick-chat.js"
      ]
    }
  ],
  "icons": {
    "128": "images/icon.png"
  },
  "content_security_policy": {
    "extension_pages": "script-src 'self'; object-src 'self'"
  },
  "background": {
    "service_worker": "background.js",
    "type": "module"
  }
}